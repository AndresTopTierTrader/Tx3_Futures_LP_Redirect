const handleError = require('./handleError');
const handleFetch = require('./handleFetch');
const baseUrl = require('./baseUrl');

const getProject = async apiKey => {
  const url = `${baseUrl}/project_resources/project.json?api_key=${apiKey}`;

  const response = await handleFetch(url);

  if (response.status !== 200) {
    return handleError(
      response,
      'There was a problem fetching your translations. Please try again in a moment.'
    );
  }

  return response.json();
};

module.exports = getProject;
